<!DOCTYPE html>
<html>
  <head>
    <title>Room Booking System - My Bookings</title>
    {% include 'nav.html' %}
  </head>

  <body>
    <div>
      <div id="table">
        <table class="table" id="tbl">
          <thead style="background-color: #070707; color: white">
            <tr>
              <th scope="col">Booking Name</th>
              <th scope="col">Room Name</th>
              <th scope="col">Start Time</th>
              <th scope="col">End Time</th>
              <th scope="col">Cancel Booking</th>
            </tr>
          </thead>
          <tbody id="myTable" style="background-color: rgb(235, 240, 245)">
            <!-- first-row -->
            {% for row in data %}
            <tr>
              <td>{{ row["bookingid"] }}</td>
              <td>{{ row["roomname"] }}</td>
              <td>{{ row["starttime"] }}</td>
              <td>{{ row["endtime"] }}</td>
              <td style="display: flex; gap: 10px">
                <i
                  class="fa fa-trash-o"
                  aria-hidden="true"
                  style="cursor: pointer"
                  onclick="deleteBooking({{ row['bookingid'] }})"
                ></i>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
  </body>
  <script>
    function deleteBooking(rowid){
      console.log(rowid)
      var jqXHR = $.ajax({
        type: "POST",
        url: "/my_Bookings_View",
        async: false,
        data: { rowid: rowid },
      });


    }
  </script>
</html>
